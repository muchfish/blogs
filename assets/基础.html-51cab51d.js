import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as t,c as d,f as a}from"./app-6aab8411.js";const n={},s=a(`<h2 id="讲一下distinct的语法" tabindex="-1"><a class="header-anchor" href="#讲一下distinct的语法" aria-hidden="true">#</a> 讲一下distinct的语法</h2><p><code>DISTINCT</code> 关键字在 SQL 中用于从结果集中去除重复的行。它可以用于单个字段，也可以用于多个字段。当用于多个字段时，只有当所有指定的字段的组合都相同时，才会被视为重复并去除。</p><h3 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法" aria-hidden="true">#</a> 基本语法</h3><h4 id="单字段去重" tabindex="-1"><a class="header-anchor" href="#单字段去重" aria-hidden="true">#</a> 单字段去重</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column1
<span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这个查询将返回表 <code>table_name</code> 中 <code>column1</code> 字段的唯一值。</p><h4 id="多字段去重" tabindex="-1"><a class="header-anchor" href="#多字段去重" aria-hidden="true">#</a> 多字段去重</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column1<span class="token punctuation">,</span> column2
<span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这个查询将返回表 <code>table_name</code> 中 <code>column1</code> 和 <code>column2</code> 组合后的唯一值。</p><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h3><p>假设有一个名为 <code>employees</code> 的表，包含以下数据：</p><table><thead><tr><th>id</th><th>first_name</th><th>last_name</th><th>department</th></tr></thead><tbody><tr><td>1</td><td>John</td><td>Doe</td><td>HR</td></tr><tr><td>2</td><td>Jane</td><td>Doe</td><td>IT</td></tr><tr><td>3</td><td>John</td><td>Smith</td><td>IT</td></tr><tr><td>4</td><td>John</td><td>Doe</td><td>HR</td></tr></tbody></table><h4 id="单字段去重示例" tabindex="-1"><a class="header-anchor" href="#单字段去重示例" aria-hidden="true">#</a> 单字段去重示例</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> first_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这个查询将返回所有唯一的 <code>first_name</code>：</p><table><thead><tr><th>first_name</th></tr></thead><tbody><tr><td>John</td></tr><tr><td>Jane</td></tr></tbody></table><h4 id="多字段去重示例" tabindex="-1"><a class="header-anchor" href="#多字段去重示例" aria-hidden="true">#</a> 多字段去重示例</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> first_name<span class="token punctuation">,</span> last_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这个查询将返回所有唯一的 <code>first_name</code> 和 <code>last_name</code> 的组合：</p><table><thead><tr><th>first_name</th><th>last_name</th></tr></thead><tbody><tr><td>John</td><td>Doe</td></tr><tr><td>Jane</td><td>Doe</td></tr><tr><td>John</td><td>Smith</td></tr></tbody></table><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h3><ul><li><code>DISTINCT</code> 关键字适用于所有字段的组合。如果两个或多个行的所有字段都相同，则这些行被视为重复行。</li><li>当在多个字段上使用 <code>DISTINCT</code> 时，SQL 引擎会根据指定的字段组合来检查重复。</li><li>在大数据集上使用 <code>DISTINCT</code> 可能会影响性能，因为需要对结果进行去重操作。</li></ul><h3 id="在查询中使用-distinct" tabindex="-1"><a class="header-anchor" href="#在查询中使用-distinct" aria-hidden="true">#</a> 在查询中使用 <code>DISTINCT</code></h3><p>假设我们有一个查询，需要对多个字段进行去重，并且需要对结果进行排序和限制返回的行数。可以使用如下方式：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column1<span class="token punctuation">,</span> column2
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> some_condition
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1<span class="token punctuation">,</span> column2
<span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个查询将对 <code>column1</code> 和 <code>column2</code> 进行去重，然后按照指定的字段排序，最后限制返回的行数为 10。</p><h2 id="limit-语句和distinct哪个先执行" tabindex="-1"><a class="header-anchor" href="#limit-语句和distinct哪个先执行" aria-hidden="true">#</a> limit 语句和distinct哪个先执行</h2><p>在 SQL 查询的执行过程中，<code>DISTINCT</code> 会先于 <code>LIMIT</code> 执行。这意味着在应用 <code>LIMIT</code> 之前，查询会首先通过 <code>DISTINCT</code> 去除重复的行。</p><h3 id="执行顺序" tabindex="-1"><a class="header-anchor" href="#执行顺序" aria-hidden="true">#</a> 执行顺序</h3><ol><li><strong><code>FROM</code> 子句</strong> - 确定从哪个表或视图中选择数据。</li><li><strong><code>WHERE</code> 子句</strong> - 应用过滤条件，筛选出满足条件的行。</li><li>JOIN 子句 - 执行表的连接操作。</li><li><strong><code>GROUP BY</code> 子句</strong> - 对数据进行分组。</li><li><strong><code>HAVING</code> 子句</strong> - 筛选分组后的数据。</li><li><strong><code>SELECT</code> 子句</strong> - 选择要返回的列，同时可以包含 <code>DISTINCT</code> 去重操作。</li><li><strong><code>DISTINCT</code> 操作</strong> - 去除重复的行。</li><li><strong><code>ORDER BY</code> 子句</strong> - 对结果集进行排序。</li><li><strong><code>LIMIT</code> 子句</strong> - 限制返回的行数。</li></ol><h3 id="示例说明" tabindex="-1"><a class="header-anchor" href="#示例说明" aria-hidden="true">#</a> 示例说明</h3><p>假设有一个名为 <code>employees</code> 的表，包含以下数据：</p><table><thead><tr><th>id</th><th>first_name</th><th>last_name</th><th>department</th></tr></thead><tbody><tr><td>1</td><td>John</td><td>Doe</td><td>HR</td></tr><tr><td>2</td><td>Jane</td><td>Doe</td><td>IT</td></tr><tr><td>3</td><td>John</td><td>Smith</td><td>IT</td></tr><tr><td>4</td><td>John</td><td>Doe</td><td>HR</td></tr></tbody></table><h4 id="查询示例" tabindex="-1"><a class="header-anchor" href="#查询示例" aria-hidden="true">#</a> 查询示例</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> first_name<span class="token punctuation">,</span> last_name
<span class="token keyword">FROM</span> employees
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> last_name
<span class="token keyword">LIMIT</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行顺序如下：</p><ol><li><p><strong>FROM 子句</strong> - 读取 <code>employees</code> 表中的所有数据。</p></li><li><p><strong>SELECT 子句</strong> - 选择 <code>first_name</code> 和 <code>last_name</code> 列。</p></li><li><p><strong>DISTINCT 操作</strong> - 去除重复的 <code>first_name</code> 和 <code>last_name</code> 组合。结果为：</p><table><thead><tr><th>first_name</th><th>last_name</th></tr></thead><tbody><tr><td>John</td><td>Doe</td></tr><tr><td>Jane</td><td>Doe</td></tr><tr><td>John</td><td>Smith</td></tr></tbody></table></li><li><p><strong>ORDER BY 子句</strong> - 按 <code>last_name</code> 排序。结果为：</p><table><thead><tr><th>first_name</th><th>last_name</th></tr></thead><tbody><tr><td>John</td><td>Doe</td></tr><tr><td>Jane</td><td>Doe</td></tr><tr><td>John</td><td>Smith</td></tr></tbody></table></li><li><p><strong>LIMIT 子句</strong> - 限制返回的行数为 2。最终结果为：</p><table><thead><tr><th>first_name</th><th>last_name</th></tr></thead><tbody><tr><td>John</td><td>Doe</td></tr><tr><td>Jane</td><td>Doe</td></tr></tbody></table></li></ol><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h3><p>在 SQL 查询中，<code>DISTINCT</code> 操作在 <code>LIMIT</code> 之前执行。这意味着查询首先会去除重复的行，然后对去重后的结果集应用 <code>LIMIT</code> 限制返回的行数。</p>`,39),o=[s];function r(i,l){return t(),d("div",null,o)}const p=e(n,[["render",r],["__file","基础.html.vue"]]);export{p as default};
